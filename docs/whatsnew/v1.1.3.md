# DRAPI 1.1.3 Release Notes

Release date: MMMM DD, YYYY

## New features

## Improvements

- Cache ACL Lookups for faster operations

## Resolved issues

- Fixed an issue with dependencies by updating to **vert.x 4.5.14**.
- Fixed the issue where a CORS preflight on a non-existing path would return the HTTP response status code **HTTP 204 No Content** instead of **HTTP 404 Not Found**.
- REmoved dependency on guava library

## Breaking changes

### CORS is now using Regex

[Browser-based applications](../references/usingdominorestapi/keepapplications.md) that are hosted on a different host need [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS) support. Until Domino REST API v1.1.2, this was done by providing a plain string that a domain would need to end on. Starting Domino REST API v1.1.3, this is replaced with a [regular expression (Regex)](https://en.wikipedia.org/wiki/Regular_expression).

Old:

```json
"CORS": {
    "localhost": true,
    ".local" : true
}
```

New:

```json
"CORS": {
    "^https?:\\/\\/localhost(?:\\:\\d+)?$": true,
     "^https?:\\/\\/.*\\.local(?:\\:\\d+)?$": true
  }
```

A few pointers:

- `^` &rarr; beginning of the string
- `http` &rarr; the literal string `http`
- `s?` &rarr; optional the string `s`
- `\\/` &rarr; double escape the string `/`
- `.*` &rarr; one or more characters of any type
- `\\.` &rarr; double escape the string `.`
- `(?:\\:\\d+)?` &rarr; double escaped optional colon and port number
- `$` &rarr; end of string

!!! note

    Inside JSON, the `\` of Regex gets escaped to `\\`.

This enables greater flexibility, but requires an update to your CORS variable if you have made changes in `keepconfig.d` to your CORS configuration.

Example:

Change `mycompany.com` to `https:\\/\\/.*\\.mycompany\.com:8000$` to allow only `https` on port `8000` for `mycompany.com`.

!!! tip "Use a Regex tool"

    Regex can be hard to decipher and understand due to their syntax and flexibility. To test if a Regex does what you want, use an [online interactive tool](https://regex101.com/) for validation. Make sure to pick the Java flavor.

## Others
