{"openapi":"3.0.2","info":{"title":"HCL Domino REST API webdav","version":"1.3.1","description":"REST APIs for office operations.","contact":{"name":"HCL America Inc","url":"https://opensource.hcltechsw.com/Domino-rest-api/","email":"HeyHCL@pnp-hcl.com"},"license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"}},"servers":[{"url":"/api/webdav-v1","description":"Keep enabled server"}],"paths":{"/jsonlogin":{"summary":"Login that consumes application/json","description":"Consumes application/json to login. Used in OFBA login dialogue.","post":{"requestBody":{"description":"Username and password in Json format","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BasicAuthRequest"},"examples":{"Login":{"value":{"password":"**********","username":"some text","scope":"$DATA"}}}}},"required":true},"tags":["ofba-authentication"],"responses":{"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage"},"examples":{"Unauthorized":{"value":{"status":401,"message":"Invalid credentials or account locked","errorId":1008}}}}},"description":"Unauthorized"},"302":{"headers":{"Location":{"schema":{"type":"string"},"examples":{"Location of OFBA success URL":{"value":"https://frascati.projectkeep.io/api/webdav-v1/success"}}},"set-cookie":{"schema":{"type":"string"},"examples":{"Opaque token in a cookie":{"value":"Authentication=<opaque token>"}}}},"description":"Upon successful login, redirects to OFBA success URL."}},"security":[{}],"operationId":"webdavJsonLogin","summary":"Get opaque token in a cookie","description":"Login and returns an opaque token in a cookie if successful. This will also redirect to the OFBA success path URL. Use this to get Authentication cookie that contains an opaque token.","x-keep-version":1,"x-keep-scope":"ANY"}}},"components":{"schemas":{"OfbaIdpCallbackRequest":{"description":"Request body for external IdP callback authentication","required":["access_token","expires_in"],"type":"object","properties":{"access_token":{"description":"External IdP JWT token","type":"string"},"expires_in":{"description":"External IdP expiry in seconds.","type":"integer","example":"7200"}},"example":{"access_token":"<jwt>","expires_in":7200}},"AttachmentFileUploaded":{"description":"Confirms file status after upload","required":["file","uploaded"],"type":"object","properties":{"file":{"description":"Filename or path","type":"string","example":"sample.docx"},"uploaded":{"description":"Boolean value that specifies if file is successfully uploaded or not","type":"boolean","example":"true"}},"example":{"file":"sample.docx","uploaded":true}},"VirtualSpreadsheetUploaded":{"description":"Confirms view status after virtual spreadsheet upload","required":["uploaded","errors"],"type":"object","properties":{"uploaded":{"description":"Boolean value that specifies if file is successfully uploaded or not","type":"boolean","example":"true"},"errors":{"description":"Array of error messages encountered when uploading virtual spreadsheet","type":"array","items":{"$ref":"#/components/schemas/ErrorMessage"}}},"example":{"uploaded":true,"errors":[]}},"LockedDocumentResponse":{"title":"Root Type for LockedDocumentResponse","description":"Locked document schema.","type":"object","properties":{"key":{"description":"Lock key.","type":"string","example":"48258435003E82831B735625D2C87ADF00258BE1004840ECsample.docx"},"owner":{"description":"Lock owner.","type":"string","example":"CN=Doctor Notes/O=ProjectKeep"},"uri":{"description":"URI which the lock belongs to.","type":"string","example":"2025-01-21T14:55:28.292Z"},"startDate":{"format":"date-time","description":"Lock creation.","type":"string","example":"https://whitepalace.projectkeep.io:8880/api/webdav-v1/attachment/demo/1B735625D2C87ADF00258BE1004840EC/sample.docx"}},"example":{"key":"48258435003E82831B735625D2C87ADF00258BE1004840ECsample.docx","owner":"CN=Jed/O=Hallownest","uri":"https://whitepalace.projectkeep.io:8880/api/webdav-v1/attachment/demo/1B735625D2C87ADF00258BE1004840EC/sample.docx","startDate":"2025-01-21T14:55:28.292Z"}},"MessageResponse":{"title":"Root Type for MessageResponse","description":"Contains a message.","type":"object","properties":{"message":{"description":"Contains a message to relay.","type":"string","example":"Hello world!"}},"example":{"message":"Hello world!"}},"ErrorMessage":{"title":"Root Type for ErrorMessage","description":"Detailed error message, might contain stacktrace","type":"object","properties":{"details":{"type":"string"},"message":{"type":"string"},"status":{"format":"int32","type":"integer"}},"example":{"details":"Long list of details","message":"We screwed up","status":500}},"Unid":{"description":"32 char universalId A-Z0-9, primary key unique across replicas","maxLength":32,"minLength":32,"pattern":"[0-9A-F]*","type":"string","readOnly":true,"example":"6834F14BE9CA69F68525871E00583D1B"},"BasicAuthRequest":{"title":"Root Type for BasicAuthRequest","description":"API way to get a token","required":["password","username"],"type":"object","properties":{"password":{"format":"password","description":"Password, not written on a Post-it","type":"string","example":"supersecret"},"username":{"description":"Who you are or your eMail","type":"string","example":"John Doe"},"scope":{"description":"Optional approved scopes. A scope is a string, the scope field a series of space separated strings. If omitted the default value \"MAIL $DATA\" that give access to PIM functions and any database the user has access to. Other scopes can be the name of database aliases like \"demo\", \"crm\". The values are case sensitive. Regular database scopes are lower case. Scopes can't open access, that's what ACLs do, but limit them. For a user driven login, this makes limited sense, so it is mostly to achieve JWT parameter parity, so scopes can be tested without an IdP issuing a JWT at the end of an OAuth process\n","type":"string","example":"crm"}},"additionalProperties":false,"example":{"password":"supersecret","username":"FirstName LastName","scope":"MAIL $DATA"}}},"securitySchemes":{"webdavopaque":{"type":"apiKey","description":"Opaque token in a cookie","name":"Authentication","in":"cookie"},"jwt":{"scheme":"bearer","type":"http","description":"Token based auth"}}},"security":[{},{"webdavopaque":[]},{"jwt":[]}],"tags":[{"name":"ofba-authentication","description":"All operations used for MS-OFBA."},{"name":"office-attachment","description":"Operations for Office files. "},{"name":"virtualspreadsheet","description":"Operations for virtual spreadsheet feature."},{"name":"lock-management","description":"Manage existing locks."}]}