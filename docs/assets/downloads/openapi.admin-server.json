{"openapi":"3.0.2","info":{"title":"HCL Domino REST API admin-server","version":"1.0.2","description":"Domino Server Administration (WIP)","contact":{"name":"HCL America Inc","url":"https://opensource.hcltechsw.com/Domino-rest-api/","email":"HeyHCL@pnp-hcl.com"},"license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"}},"servers":[{"url":"/api/admin-server-v1","description":"KEEP enabled server"}],"paths":{"/access/directories":{"summary":"Lists the configured directories","description":"for now: Domino directory","get":{"tags":["admin-user"],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"title":"Root Type for directory","description":"Information about a Domino directory","type":"object","properties":{"nsfPath":{"description":"Path to the directory","type":"string"},"title":{"description":"Description of directory","type":"string"},"type":{"description":"Domino or LDAP","enum":["domino","ldap"],"type":"string"},"isPrimary":{"description":"is it the primary directory yes/no. Typically the primary is names.nsf","type":"boolean"}},"example":{"nsfPath":"names.nsf","title":"Primary directory for ACME Inc","type":"domino","isPrimary":true}}}}},"description":"List of directories"}},"security":[{"jwt":[]}],"operationId":"fetchDirectories","summary":"returns list of configured directories","description":"Use the naming based on directory assistance configuration (if existing)","x-keep-version":1}}},"components":{"schemas":{"aclEntry":{"title":"Root Type for AclEntry","description":"ACL Entry","type":"object","properties":{"name":{"type":"string"},"type":{"type":"string"},"level":{"type":"string"},"roles":{"type":"array","items":{"type":"string"}},"flags":{"type":"array","items":{"type":"string"}}},"example":{"name":"LocalDomainAdmins","type":"GROUP","level":"MANAGER","roles":["Admin"],"flags":["NODELETE","AUTHOR_NOCREATE"]}},"directoryAssistance":{"description":"directory assistance information","required":["domainName","domainType"],"type":"object","properties":{"domainName":{"description":"Domain Name","type":"string"},"domainType":{"description":"Domain Type","type":"string"},"companyName":{"description":"Name of the company","type":"string"},"notesReplica":{"description":"Notes replica","type":"array","items":{"type":"string"}},"ldapServer":{"description":"Name of the ldap server","type":"string"}},"example":{"domainType":"LDAP","domainName":"HCLPNP","companyName":"HCL","notesReplica":"","ldapServer":"LP1-AP-51734529 "}},"ldapServer":{"description":"Ldap Server information","required":["ldapServer"],"type":"object","properties":{"ldapServer":{"description":"Ldap server name or ip address","type":"string"},"ldapPort":{"description":"Ldap server port","type":"string"},"ldapBindDN":{"description":"BindDN","type":"string"},"userName":{"description":"User Name","type":"string"},"password":{"description":"user password","type":"string"},"useSSL":{"description":"Use ssl when domino server connects with LDAP Server.","type":"boolean"},"acceptExpiredCertificates":{"description":"Force SSL to accept remote certificates which have expired","type":"boolean"},"verifyRemoteSrvCert":{"description":"Verify Remote Server Certificate","type":"boolean"}},"example":{"ldapServer":"LP1-AP-51734529.PROD.HCLPNP.COM","ldapBindDN":"CN=DEP user,O=HCLPNP","ldapPort":"389","userName":"CN=DEP user,O=HCLPNP","password":"Jaswi@2015","useSSL":true,"acceptExpiredCertificates":true,"verifyRemoteSrvCert":true}},"saml":{"description":"SAML Configuration","required":["servername","companyname"],"type":"object","properties":{"companyname":{"description":"Company name certificate.","type":"string"},"servername":{"description":"Domino web server or site hostname like renovations.com","type":"string"}},"example":{"servername":"renovations.com","companyname":"renovations"}},"directoryAssistanceLdapEntry":{"description":"Directory assistance entry for remote ldap","required":["domainName","ldapVendor","userName","userPassword","hostName","port","useSSL","companyName","updateServerDoc","dirAssistDBName"],"type":"object","properties":{"domainName":{"description":"Domain Name","type":"string"},"companyName":{"description":"Name of the company","type":"string"},"updateServerDoc":{"description":"update server document","type":"boolean"},"ldapVendor":{"description":"Ldap Vector","type":"integer"},"dirAssistDBName":{"description":"Directory assistance database name","type":"string"},"searchOrder":{"description":"Search order","type":"integer"},"baseDnSearch":{"description":"Base DN for search","type":"string"},"timeout":{"description":"The maximum number of seconds allowed for a search","type":"integer"},"maxEntriesReturned":{"description":"Maximum number of entries returned","type":"integer"},"verifyRemoteSrvCert":{"description":"Verify server name with remote server's certificate","type":"boolean"},"hostName":{"description":"Ldap Server name or ip address","type":"string"},"acceptExpiredCerts":{"description":"Accept expired SSL certificates","type":"boolean"},"userName":{"description":"user name","type":"string"},"userPassword":{"description":"password","type":"string"},"useSSL":{"description":"use SSL","type":"boolean"},"port":{"description":"Ldap Server port number","type":"integer"}},"example":{"acceptExpiredCerts":true,"baseDnSearch":"HCL","companyName":"HCL","dirAssistDBName":"da.nsf","domainName":"HCLPNP","hostName":"172.16.1.152","ldapVendor":"OPENLDAP","maxEntriesReturned":100,"port":10636,"searchOrder":2,"timeout":60,"updateServerDoc":false,"userName":"cn=kiran,ou=users,dc=example,dc=com","userPassword":"secret","useSSL":true,"verifyRemoteSrvCert":true}},"exportSpXml":{"description":"export service provider xml","required":["user","unid"],"type":"object","properties":{"user":{"description":"user","type":"string"},"unid":{"description":"unid","type":"string"}},"example":"{\r\n   \"user\": \"domino admin/HCLPNP\",\r\n   \"unid\": \"BBA49F0A75E348476525873500192FDD\",\r\n\r\n}"},"smtp":{"title":"Root Type for smtp","description":"Details of smtp server on Domino","type":"object","properties":{"SMTPlistenerEnabled":{"description":"Enable SMTP listener Task On Domino.\nPossible Values:\n    false - Disabled \n    true - Enabled","type":"boolean"},"portStatus":{"description":"SMTP Inbound Port status On Domino.\nPossible Values:\n    false - Disabled \n    true - Enabled","type":"boolean"},"SMTP_OutBound_PortStatus":{"description":"SMTPOutBound Port Status On Domino.\r\nPossible Values:\r\n    0 - Disabled \r\n    1 - Enabled\r\n    2 - Negotiated TLS","type":"integer"},"Mail_number_Of_MailBoxes":{"description":"Number of Mail.box files to be used for SMTP.\nPossible Values: Integer 1 to 10.","type":"integer"},"MailExternalSMTP":{"description":"Used SMTP, if Enabled instead of Notes Routing\r\nPossible Values:\r\n    0 - Disabled \r\n    1 - Enabled","type":"integer"},"MailInternalSMTP":{"description":"For Local messaging, if SMTP Enabled used SMTP instead of Notes Routing\r\nPossible Values:\r\n    0 - MIME messages Only \r\n    1 - Disabled\r\n\t2 - All Messages","type":"integer"},"SMTPFullHostDomain":{"description":"Fully qualified SMTP host name","type":"string"}},"example":{"SMTPFullHostDomain":"dineshdomino.DEP.com","SMTPlistenerEnabled":true,"portStatus":true,"SMTP_OutBound_PortStatus":1,"Mail_number_Of_MailBoxes":1,"MailExternalSMTP":1,"MailInternalSMTP":1}},"EnableDisableLdap":{"title":"Root Type for EnableDisableLdap","description":"enable disable LDAP server  ","type":"object","properties":{"dbName":{"type":"string"},"ldapServer":{"type":"string"},"ldapStatus":{"type":"boolean"},"docUNID":{"type":"string"}},"example":{"dbName":"da.nsf","ldapServer":"ldapserver.com","docUNID":"F85CB05BE184675265258756004E5067","ldapStatus":true}},"fixupBody":{"title":"Root Type for fixupBody","description":"","type":"object","properties":{"options":{"type":"array","items":{"enum":["Fixup_only","Fixup_full_note_scan","Fixup_no_delete"]}},"filepath":{"description":"Filepath of database to compact","type":"string","example":"demo.nsf"}},"example":{"filepath":"Demo.nsf","options":["fixupOnly"]}},"collectionUpdateBody":{"description":"Payload for updating views","required":["filepath"],"type":"object","properties":{"filepath":{"description":"Database filepath","type":"string"},"collections":{"description":"","type":"array","items":{"type":"string"}}}},"fullTextIndexBody":{"description":"","required":["options","filepath"],"type":"object","properties":{"options":{"description":"","type":"array","items":{"enum":["Default","Attachments","Binary_attachments","Recreate_index","Case_sensitive","Word_variants","Word_sentence_paragraph_breaks","Encrypted_fields","Summary_fields_only","Delete_index"]}},"filepath":{"description":"Filepath of database to full text index","type":"string","example":"demo.nsf"}},"additionalProperties":false,"example":{"filepath":"Demo.nsf","options":["Auto"]}},"compactBody":{"description":"","required":["options","filepath"],"type":"object","properties":{"otherOptions":{"description":"","type":"array","items":{"enum":["No_lockout","No_indexes","Revert_ODS","Mailbox","No_in_place","Copy_replica"]}},"filepath":{"description":"Filepath of database to compact","type":"string","example":"demo.nsf"},"archiveOption":{"description":"Whether to archive and then compact the database, or just archive","enum":["Archive_only","Archive_and_compact"],"type":"string"},"spaceRecoveryOption":{"description":"Whether to do only bitmap correction in place or recover all space","enum":["Bitmap_only","All"],"type":"string"},"changeUnreadSetting":{"description":"Changes unread marks setting on the database, from enable to disable or vice-versa","enum":["Enable","Disable"],"type":"string"},"changeResponsesSetting":{"description":"Changes whether responses and responses-to-responses are allowed in the database or not","enum":["Enable","Disable"],"type":"string"},"changeFormBucketSetting":{"description":"Changes whether or not form / bucket bitmap optimization is applied","enum":["Enable","Disable"],"type":"string"},"changeTransLogSetting":{"description":"Change whether or not transaction logging is enabled for the database","enum":["Enable","Disable"],"type":"string"},"changeLargeUNKTableSetting":{"description":"Changes whether or not a large UNK table (table of fields and corresponding data-types) is enabled for the database","enum":["Enable","Disable"],"type":"string"},"changeCompressDesignSetting":{"description":"Changes whether or not design element compression is enabled for the database","enum":["Enable","Disable"],"type":"string"},"changeCompressDataSetting":{"description":"Changes whether or not data compression is enabled for the database","enum":["Enable","Disable"],"type":"string"},"changeDAOSSetting":{"description":"Changes whether or not DAOS (externalization of attachment storage) is enabled for the database","enum":["Enable","Disable"],"type":"string"},"changeNIFSetting":{"description":"Changes whether or not view index externalization is enabled for the database","enum":["Enable","Disable"],"type":"string"},"changePIRCSetting":{"description":"Changes whether or not PIRC (Purge Interval Replication Control) is enabled for the database - prevents old deleted documents being added from old replicas","enum":["Enable","Disable"],"type":"string"}},"additionalProperties":false,"example":{"filepath":"Demo.nsf","changeUnreadSetting":"enable","archiveOption":"archive_and_compact","otherOptions":["Copy_replica"]}},"directory":{"title":"Root Type for directory","description":"Information about a Domino directory","type":"object","properties":{"nsfPath":{"description":"Path to the directory","type":"string"},"title":{"description":"Description of directory","type":"string"},"type":{"description":"Domino or LDAP","enum":["domino","ldap"],"type":"string"},"isPrimary":{"description":"is it the primary directory yes/no. Typically the primary is names.nsf","type":"boolean"}},"example":{"nsfPath":"names.nsf","title":"Primary directory for ACME Inc","type":"domino","isPrimary":true}},"ErrorMessage":{"$ref":"#/components/schemas/ErrorMessage1"},"ErrorMessage1":{"title":"Root Type for ErrorMessage","description":"Detailed error message, might contain stacktrace","type":"object","properties":{"details":{"type":"string"},"message":{"type":"string"},"status":{"format":"int32","type":"integer"}},"example":{"details":"Long list of details","message":"We screwed up","status":500}}},"responses":{"400BadRequest":{"$ref":"#/components/responses/400BadRequest1"},"401Unauthorized":{"$ref":"#/components/responses/401Unauthorized1"},"403Forbidden":{"$ref":"#/components/responses/403Forbidden1"},"404NotFound":{"$ref":"#/components/responses/404NotFound1"},"500InternalServerError":{"$ref":"#/components/responses/500InternalServerError1"},"501NotImplemented":{"$ref":"#/components/responses/501NotImplemented1"},"400BadRequest1":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage1"}}},"description":"Invalid request. Shows up when submission is flaky:\n- Wrong authentication\n- Wrong content-type\n- Missing or wrong parameter types"},"401Unauthorized1":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage1"},"examples":{"Unauthorized":{"value":{"status":401,"message":"Invalid credentials or account locked"}}}}},"description":"401 Unauthorized"},"403Forbidden1":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage1"},"examples":{"Forbidden":{"value":{"message":"Nice try chap, ask before next time","status":403}}}}},"description":"Forbidden"},"500InternalServerError1":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage1"},"examples":{"GenericError":{"value":{"details":"Dreaded pirate NullPointer","message":"Sorry pal, we screwed up","status":500}}}}},"description":"The server screwed up"},"501NotImplemented1":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage1"},"examples":{"NextVersion":{"value":{"details":"We do sprints, not marathons","message":"Not now, maybe tomorrow","status":501}}}}},"description":"Working on it, just not yet"},"404NotFound1":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage1"},"examples":{"NotFound":{"value":{"message":"This is not the data you seek!","status":404}}}}},"description":"Content not found"},"405MethodNotAllowed":{"description":"Method not allowed"},"406NotAcceptable":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorMessage1"},"examples":{"GenericRejection":{"value":{"details":"The haferlup needs left turning shrufti","message":"This is not a supported operation. Try again","status":406}}}}},"description":"Invalid operation - something got requested that isn't supported"}},"securitySchemes":{"jwt":{"scheme":"bearer","type":"http","description":"Token based auth (preferred)"}}},"security":[{"jwt":[]}],"tags":[{"name":"directory-assistance","description":"Domino directory assistance"},{"name":"admin-tls","description":"Endpoints to handle ports and their security certificates"}],"x-keep-version":1}